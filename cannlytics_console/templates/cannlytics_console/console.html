<!doctype html>
<html>
  <!-- Cannlytics Console -->
  <!-- Created 11/26/2020 | Thanksgiving -->
  {% extends "cannlytics_console/base.html" %}
  {% load static %}

  <!-- Title -->
  {% block title %}
    {% if screen %}{{ screen|title }}{% else %}Dashboard{% endif %} | Cannlytics
  {% endblock %}

  <!-- Console header -->
  {% block page_css %}
    {% comment %} <script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.noStyle.js"></script>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/ag-grid-community/dist/styles/ag-grid.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/ag-grid-community/dist/styles/ag-theme-alpine.css"> {% endcomment %}
    <script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.noStyle.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/ag-grid-community/dist/styles/ag-grid.css">
    <link rel="stylesheet" href="https://unpkg.com/ag-grid-community/dist/styles/ag-theme-alpine.css">
    <link rel="stylesheet" href="https://unpkg.com/ag-grid-community/dist/styles/ag-theme-alpine-dark.css">
    {% block console_css %}{% endblock console_css %}
  {% endblock %}

  <!-- Console Template -->
  {% block page %}

    <!-- Set the theme after the body, but before the page, loads. -->
    <script>
      cannlytics.theme.setInitialTheme();
    </script>

    <!-- Top Navigation -->
    {% include "cannlytics_console/layout/top_navigation.html" with navbar=navbar only %}

    <!-- Console -->
    <div class="container-fluid">
      <div class="row">
        
        <!-- Side Navigation -->
        {% if user %}
          {% include "cannlytics_console/layout/side_navigation.html" with
            screen=screen
            sidebar=sidebar
            user=user
            only
          %}
        {% else %}
          {% include "cannlytics_console/layout/side_navigation_login.html" with
            screen=screen
            sidebar=sidebar
            only
          %}
        {% endif %}

        <!-- Dynamic Body -->
        {% block console_body %}{% endblock console_body %}
        
      </div>
    </div>

    <!-- Notifications -->
    {% include "cannlytics_console/components/notifications/notification_toast.html" %}

  {% endblock %}

  <!-- Console JavaScript -->
  {% block page_js %}
    <script src="{% static 'rest_framework/js/coreapi-0.1.1.js' %}"></script>
    <script src="{% url 'api-docs:schema-js' %}"></script>
    <script>
      cannlytics.app.initialize();
    </script>

    <!-- Screen-specific JavaScript -->
    {% block console_js %}{% endblock console_js %}

  {% endblock page_js %}
</html>
