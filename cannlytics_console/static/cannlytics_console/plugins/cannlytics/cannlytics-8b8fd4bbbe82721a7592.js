/*! For license information please see cannlytics-8b8fd4bbbe82721a7592.js.LICENSE.txt */
var cannlytics;(()=>{"use strict";var __webpack_modules__={"./cannlytics_console/assets/js/analysis/analysis.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"analysis\": () => (/* binding */ analysis)\n/* harmony export */ });\n/**\r\n * Cannlytics Console (v1.0.0): analysis.js\r\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\r\n * Author: Keegan Skeate\r\n * Created: 12/3/2020\r\n */\n// import Chart from 'chart.js';\n// import \"chartjs-chart-box-and-violin-plot/build/Chart.BoxPlot.js\";\nfunction randomValues(count, min, max) {\n  var delta = max - min;\n  return Array.from({\n    length: count\n  }).map(() => Math.random() * delta + min);\n}\n\nvar analysis = {\n  initialize() {\n    this.drawGraphs();\n  },\n\n  drawGraphs() {\n    var ctx = document.getElementById('graph-concentrations');\n    var graph = new Chart(ctx, {\n      type: 'boxplot',\n      data: this.data,\n      options: {\n        responsive: true,\n        legend: {\n          position: 'bottom'\n        }\n      }\n    });\n  },\n\n  data: {\n    // TODO: Get from Firestore\n    // define label tree\n    labels: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n    datasets: [{\n      label: 'Flower',\n      backgroundColor: 'rgba(255, 0, 0, 0.5)',\n      borderColor: 'red',\n      borderWidth: 1,\n      outlierColor: '#999999',\n      padding: 10,\n      itemRadius: 0,\n      data: [randomValues(100, 0, 100), randomValues(100, 0, 20), randomValues(100, 20, 70), randomValues(100, 60, 100), randomValues(40, 50, 100), randomValues(100, 60, 120), randomValues(100, 80, 100)]\n    }, {\n      label: 'Concentrates',\n      backgroundColor: 'rgba(0, 0, 255, 0.5)',\n      borderColor: 'blue',\n      borderWidth: 1,\n      outlierColor: '#999999',\n      padding: 10,\n      itemRadius: 0,\n      data: [randomValues(100, 60, 100), randomValues(100, 0, 100), randomValues(100, 0, 20), randomValues(100, 20, 70), randomValues(40, 60, 120), randomValues(100, 20, 100), randomValues(100, 80, 100)]\n    }]\n  }\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/analysis/analysis.js?")},"./cannlytics_console/assets/js/api/api.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"api\": () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./cannlytics_console/assets/js/utils.js\");\n/**\r\n * API Interface | Cannlytics Console\r\n * Author: Keegan Skeate\r\n * Created: 4/24/2021\r\n * Description: The `api` object interfaces with the Cannlytics API to send\r\n * and retrieve data to and from the back-end, where data is processed and\r\n * stored in the Firestore database and Metrc API.\r\n */\n\nvar api = {\n  /*----------------------------------------------------------------------------\r\n  Analyses\r\n  ----------------------------------------------------------------------------*/\n  getAnalyses: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analysis', null, {\n    params\n  }),\n  createAnalysis: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analysis', data),\n  updateAnalysis: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analysis', data),\n  deleteAnalysis: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analysis', data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Analytes\r\n  ----------------------------------------------------------------------------*/\n  getAnalytes: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analytes', null, {\n    params\n  }),\n  createAnalyte: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analytes', data),\n  updateAnalyte: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analytes', data),\n  deleteAnalyte: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/analytes', data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Areas\r\n  ----------------------------------------------------------------------------*/\n  getAreas: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/areas', null, {\n    params\n  }),\n  createArea: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/areas', data),\n  updateArea: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/areas', data),\n  deleteArea: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/areas', data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Clients\r\n  ----------------------------------------------------------------------------*/\n  getClients: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/clients', null, {\n    params\n  }),\n  createClient: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/clients', data),\n  updateClient: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/clients', data),\n  deleteClient: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/clients', data, {\n    delete: true\n  }),\n  // Client contacts.\n  getClientContacts: orgId => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/clients/\".concat(orgId, \"/contacts\")),\n  createClientContact: (orgId, data) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/clients/\".concat(orgId, \"/contacts\"), data),\n  updateClientContact: (orgId, data) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/clients/\".concat(orgId, \"/contacts\"), data),\n  deleteClientContact: (orgId, data) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/clients/\".concat(orgId, \"/contacts\"), data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Inventory\r\n  ----------------------------------------------------------------------------*/\n  getInventory: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/inventory', null, {\n    params\n  }),\n  createInventory: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/inventory', data),\n  updateInventory: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/inventory', data),\n  deleteInventory: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/inventory', data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Instruments\r\n  ----------------------------------------------------------------------------*/\n  getInstruments: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/instruments', null, {\n    params\n  }),\n  createInstruments: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/instruments', data),\n  updateInstruments: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/instruments', data),\n  deleteInstruments: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/instruments', data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Invoices\r\n  ----------------------------------------------------------------------------*/\n  getInvoices: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/invoices', null, {\n    params\n  }),\n  createInvoices: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/invoices', data),\n  updateInvoices: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/invoices', data),\n  deleteInvoices: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/invoices', data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Users (Mesh with staff/team/contacts)\r\n  ----------------------------------------------------------------------------*/\n  getUsers: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/users', null, {\n    params\n  }),\n  createUser: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/users', data),\n  updateUser: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/users', data),\n  deleteUser: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/users', data, {\n    delete: true\n  }),\n  // User settings.\n  getUserSettings: userId => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/users/\".concat(userId, \"/settings\")),\n  updateUserSettings: (userId, data) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/users/\".concat(userId, \"/settings\"), data),\n\n  /*----------------------------------------------------------------------------\r\n  Organizations (Mesh with facilities)\r\n  ----------------------------------------------------------------------------*/\n  getOrganizations: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/organizations', null, {\n    params\n  }),\n  createOrganization: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/organizations', data),\n  updateOrganization: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/organizations', data),\n  deleteOrganization: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/organizations', data, {\n    delete: true\n  }),\n  // Organization settings.\n  getOrganizationSettings: orgId => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/organizations/\".concat(orgId, \"/settings\")),\n  updateOrganizationSettings: (orgId, data) => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)(\"/api/organizations/\".concat(orgId, \"/settings\"), data),\n\n  /*----------------------------------------------------------------------------\r\n  Samples\r\n  ----------------------------------------------------------------------------*/\n  getSamples: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/samples', null, {\n    params\n  }),\n  createSamples: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/samples', data),\n  updateSamples: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/samples', data),\n  deleteSamples: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/samples', data, {\n    delete: true\n  }),\n\n  /*----------------------------------------------------------------------------\r\n  Transfers\r\n  ----------------------------------------------------------------------------*/\n  getTransfers: params => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/transfers', null, {\n    params\n  }),\n  createTransfers: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/transfers', data),\n  updateTransfers: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/transfers', data),\n  deleteTransfers: data => (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/transfers', data, {\n    delete: true\n  })\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/api/api.js?")},"./cannlytics_console/assets/js/app/app.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"app\": () => (/* binding */ app)\n/* harmony export */ });\n/* harmony import */ var _firebase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../firebase.js */ \"./cannlytics_console/assets/js/firebase.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"./cannlytics_console/assets/js/utils.js\");\n/**\r\n * app.js | Cannlytics Console\r\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\r\n * Author: Keegan Skeate <contact@cannlytics.com>\r\n * Created: 12/7/2020\r\n */\n\n\nvar app = {\n  initialize() {\n    /*\r\n    * Initialize the console.\r\n    */\n    _firebase_js__WEBPACK_IMPORTED_MODULE_0__.auth.onAuthStateChanged(user => {\n      console.log('Detected user:', user);\n\n      if (user) {// initializeUserUI(user);\n        // authRequest('/api/auth/authenticate');\n        // TODO: Get user's organizations from Firestore through the API!\n        // console.log('Getting user organizations...');\n        // authRequest('/api/organizations').then((data) => {\n        //   console.log('User organizations:', data);\n        // });\n        // FIXME: Hot-fix to reload page if sidebar is prompting login.\n        // const signInMenu = document.getElementById('sidebar-menu-login');\n        // if (signInMenu) location.reload();\n      }\n    }); // Enable any and all tooltips.\n\n    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'));\n    tooltipTriggerList.map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));\n  },\n\n  signOut: _firebase_js__WEBPACK_IMPORTED_MODULE_0__.signOut,\n\n  search() {\n    /*\r\n     * General search function to query the entire app and return the most\r\n     * relevant page.\r\n     */\n    console.log('Searching...');\n    var searchTerms = document.getElementById('navigation-search').value; // const urlParams = new URLSearchParams(window.location.search);\n    // urlParams.set('q', searchTerms);\n    // window.location.search = urlParams;\n    // window.location.href = '/search';\n\n    setGetParameter('q', searchTerms); // const query = URLSearchParams(window.location.search).get('q');\n    // console.log(query);\n  }\n\n};\n\nfunction setGetParameter(paramName, paramValue) {\n  var url = window.location.href;\n  var hash = location.hash;\n  url = url.replace(hash, '');\n\n  if (url.indexOf(paramName + \"=\") >= 0) {\n    var prefix = url.substring(0, url.indexOf(paramName + \"=\"));\n    var suffix = url.substring(url.indexOf(paramName + \"=\"));\n    suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n    suffix = suffix.indexOf(\"&\") >= 0 ? suffix.substring(suffix.indexOf(\"&\")) : \"\";\n    url = prefix + paramName + \"=\" + paramValue + suffix;\n  } else {\n    if (url.indexOf(\"?\") < 0) url += \"?\" + paramName + \"=\" + paramValue;else url += \"&\" + paramName + \"=\" + paramValue;\n  }\n\n  window.location.href = url + hash;\n}\n\nfunction initializeUserUI(user) {\n  /*\r\n   * Setup user's UI based on their preferences and claims.\r\n   */\n  var organization = user.organization || 'Cannlytics';\n  var navPhoto = document.getElementById('userPhotoNav');\n  var menuPhoto = document.getElementById('userPhotoMenu');\n\n  if (user.photoURL) {\n    navPhoto.src = user.photoURL;\n    menuPhoto.src = user.photoURL;\n  } else {\n    var robohash = \"https://robohash.org/\".concat(user.email, \"?set=set5\");\n    navPhoto.src = robohash;\n    menuPhoto.src = robohash;\n  }\n\n  document.getElementById('anonymous-signup').classList.add('d-none');\n  document.getElementById('userEmail').textContent = user.email;\n  document.getElementById('userName').textContent = user.displayName; // TODO: Show Personalize your account button\n\n  if (!user.displayName) {\n    document.getElementById('personalize-account').classList.remove('d-none');\n  }\n\n  document.title = \"\".concat(document.title.split('|')[0], \" | \").concat(organization);\n  if (document.title.startsWith('|')) document.title = \"Dashboard \".concat(document.title);\n}\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/app/app.js?")},"./cannlytics_console/assets/js/auth/auth.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"auth\": () => (/* binding */ auth)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./cannlytics_console/assets/js/utils.js\");\n/**\r\n * Authentication JavaScript | Cannlytics Console\r\n * Author: Keegan Skeate\r\n * Created: 12/4/2020\r\n * Updated: 5/9/2021\r\n */\n\nvar auth = {\n  initialize() {\n    /*\r\n     * Initialize Firebase, waiting for the user to sign in successfully to\r\n     * programmatically login the user and route them to the dashboard.\r\n     */\n    // try {\n    //   firebase.initializeApp();\n    // } catch(error) {\n    //   // Firebase already initialized.\n    // }\n    // FIXME: Navigate to dashboard if redirecting from Google sign-in.\n    // this.googleSignInRedirect();\n  },\n\n  currentUser() {\n    return firebase.auth().currentUser;\n  },\n\n  anonymousSignIn() {\n    /*\r\n     * Anonymously sign-in a user.\r\n     */\n    return new Promise((resolve, reject) => {\n      firebase.auth().signInAnonymously().then(() => {\n        resolve();\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  },\n\n  googleSignIn() {\n    /*\r\n     * Sign in a user with Google.\r\n     */\n    var provider = new firebase.auth.GoogleAuthProvider();\n    firebase.auth().signInWithRedirect(provider);\n  },\n\n  googleSignInRedirect() {\n    /*\r\n     * Signs in a user after a successful Google sign-in redirect.\r\n     */\n    // FIXME: Login on redirect does not work\n    console.log('Checking for Google redirect...');\n    firebase.auth().getRedirectResult().then(result => {\n      if (result.credential) {// This gives you a Google Access Token. You can use it to access the Google API.\n        // var token = result.credential.accessToken;\n        // window.location.href = '/';\n      } // The signed-in user info.\n\n\n      var user = result.user;\n      console.log('User:', user);\n    }).catch(error => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message; // The email of the user's account used.\n\n      var email = error.email; // The firebase.auth.AuthCredential type that was used.\n\n      var credential = error.credential; // ...\n\n      console.log('Error:', errorMessage);\n    });\n  },\n\n  resetPassword() {\n    /*\r\n     * Reset a user's password.\r\n     */\n    var auth = firebase.auth();\n    var email = document.getElementById('login-email').value;\n    auth.sendPasswordResetEmail(email).then(function () {\n      window.location.href = '/account/password-reset-done';\n    }).catch(function (error) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Reset password error', error.message, {\n        type: 'error'\n      });\n    });\n  },\n\n  resetPasswordCodeCheck() {\n    /*\r\n     * Check if the password reset code is valid.\r\n     */\n    var url = new URL(window.location.href);\n    var code = url.searchParams.get('oobCode');\n    firebase.auth().verifyPasswordResetCode(code).then(email => {\n      document.getElementById('user-email').value = email;\n    }).catch(() => {\n      var invalidMessage = document.getElementById('password-reset-code-invalid-message');\n      var passwordResetForm = document.getElementById('password-reset-form');\n      passwordResetForm.classList.add('d-none');\n      invalidMessage.classList.remove('d-none');\n    });\n  },\n\n  resetPasswordConfirm() {\n    /*\r\n     * Confirm a password reset.\r\n     */\n    var newPassword = document.getElementById('login-password').value;\n    var newPasswordConfirmation = document.getElementById('login-password-confirmation').value;\n\n    if (newPassword !== newPasswordConfirmation) {\n      var message = 'The passwords you entered are not the same, please confirm your password.';\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Passwords do not match', message, {\n        type: 'error'\n      });\n      return;\n    }\n\n    firebase.auth().confirmPasswordReset(code, newPassword).then(() => {\n      window.location.href = '/account/password-reset-complete';\n    }).catch(() => {\n      var message = 'The password reset link that you used is invalid. Please request a new password reset link.';\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Password reset error', message, {\n        type: 'error'\n      });\n    });\n  },\n\n  signIn() {\n    /*\r\n     * Sign in a user.\r\n     */\n    var email = document.getElementById('login-email').value;\n    var password = document.getElementById('login-password').value;\n    document.getElementById('sign-in-button').classList.add('d-none');\n    document.getElementById('sign-in-loading-button').classList.remove('d-none');\n    firebase.auth().signInWithEmailAndPassword(email, password).then(user => {\n      return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/auth/authenticate');\n    }).then(() => {// TODO: Determine if it's okay to stay signed in.\n      // The Firestore docs show to sign out when using session cookies,\n      // but this means all requests to Firestore have to go through the API.\n      // It is still nice to be able to interact with Firestore from client-side JavaScript.\n      // return firebase.auth().signOut();\n    }).then(() => {\n      window.location.assign('/');\n    }).catch(error => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Sign in error', error.message, {\n        type: 'error'\n      });\n    }).finally(() => {\n      document.getElementById('sign-in-button').classList.remove('d-none');\n      document.getElementById('sign-in-loading-button').classList.add('d-none');\n    });\n  },\n\n  signUp() {\n    /*\r\n     * Sign up a user.\r\n     */\n    var terms = document.getElementById('login-terms-accepted');\n\n    if (!terms.checked) {\n      var message = 'Please agree with our terms of service and read our privacy policy to create an account.';\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Terms not accepted', message, {\n        type: 'error'\n      });\n      terms.classList.add('is-invalid');\n      return;\n    } else {\n      terms.classList.remove('is-invalid');\n    }\n\n    var email = document.getElementById('login-email').value;\n    var password = document.getElementById('login-password').value;\n    document.getElementById('sign-up-button').classList.add('d-none');\n    document.getElementById('sign-up-loading-button').classList.remove('d-none'); // FIXME: Ensure sign-up works with user sessions.\n\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(() => {\n      return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/auth/authenticate');\n    }).then(() => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.apiRequest)('/api/users', {\n        email,\n        photo_url: \"https://robohash.org/\".concat(email, \"?set=set5\")\n      }).then(() => {\n        window.location.assign('/account/sign-up-complete');\n      }); // DEV: Don't send verification email in development.\n      // this.verifyUser();\n    }).catch(error => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Sign up error', error.message, {\n        type: 'error'\n      });\n    }).finally(() => {\n      document.getElementById('sign-up-button').classList.remove('d-none');\n      document.getElementById('sign-up-loading-button').classList.add('d-none');\n    });\n    ;\n  },\n\n  verifyUser() {\n    /*\r\n     * Send a user a verification email.\r\n     */\n    var user = firebase.auth().currentUser;\n    user.sendEmailVerification().then(() => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Verification email sent', error.message, {\n        type: 'success'\n      });\n    }).catch(function (error) {\n      console.log(error);\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.showNotification)('Verification error', error.message, {\n        type: 'error'\n      });\n    });\n  }\n\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/auth/auth.js?")},"./cannlytics_console/assets/js/dashboard/dashboard.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"dashboard\": () => (/* binding */ dashboard)\n/* harmony export */ });\n/* harmony import */ var _firebase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../firebase.js */ \"./cannlytics_console/assets/js/firebase.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"./cannlytics_console/assets/js/utils.js\");\n/**\r\n * Dashboard JavaScript | Cannlytics Console\r\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\r\n * Author: Keegan Skeate\r\n * Created: 12/3/2020\r\n * Updated: 5/2/2021\r\n */\n\n\nvar dashboard = {\n  initializeGetStarted(stage) {\n    /*\r\n     * Initializes the get started forms.\r\n     */\n    // FIXME: Initialize from back-end?\n    // auth.onAuthStateChanged((user) => {\n    //   console.log('Detected user in dashboard:', user)\n    //   if (user) {\n    //     if (stage === 'profile') {\n    //       initializeGetStartedProfileUI(user)\n    //       // authRequest('/api/users').then((data) => initializeGetStartedProfileUI(data));\n    //     }\n    //   }\n    // });\n    // if (stage === 'organization') {\n    //   authRequest('/api/organizations').then((data) => initializeGetStartedOrganizationUI(data));\n    // }\n  },\n\n  joinOrganizationRequest() {\n    /*\r\n     * Send the owner of an organization a request for a user to join.\r\n     */\n    var organization = document.getElementById('join-organization-input').value;\n\n    if (!organization) {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Organization required', 'Enter an organization name.', {\n        type: 'error'\n      });\n      return;\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.authRequest)('/api/organizations/join', {\n      organization,\n      join: true\n    }).then(response => {\n      if (response.success) {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Organization request sent', response.message, {\n          type: 'success'\n        });\n      } else {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Organization request failed', response.message, {\n          type: 'error'\n        });\n      }\n    });\n  },\n\n  selectSupportTier(tier) {\n    /*\r\n     * Add selected indicator to support choices.\r\n     */\n    var cards = document.getElementsByClassName('support-card');\n\n    for (var i = 0; i < cards.length; i++) {\n      cards[i].classList.remove('border-success');\n\n      if (cards[i].id === \"tier\".concat(tier)) {\n        cards[i].classList.add('border-success');\n      }\n    }\n  },\n\n  saveOrganization() {\n    /*\r\n     * Save's a user's organization choice.\r\n     */\n    var elements = document.getElementById('create-organization-form').elements;\n    var data = {};\n\n    for (var i = 0; i < elements.length; i++) {\n      var item = elements.item(i);\n      data[item.name] = item.value;\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.authRequest)('/api/organizations', data).then(response => {\n      console.log('Saved org:', response); // TODO:\n      // if (response.success) {\n      //   showNotification('Organization request sent', response.message, { type: 'success' });\n      // } else {\n      //   showNotification('Organization request failed', response.message, { type: 'error' });\n      // }\n    });\n  },\n\n  saveUserData(type) {\n    /*\r\n     * Save's a user's data. FIXME: Kind of broken\r\n     */\n    var terms = document.getElementById('login-terms-accepted');\n\n    if (!terms.checked) {\n      var message = 'Please accept the terms of service and read the privacy and security policies.';\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Terms not accepted', message, {\n        type: 'error'\n      });\n      terms.classList.add('is-invalid');\n      return;\n    } else {\n      terms.classList.remove('is-invalid');\n    }\n\n    var user = _firebase_js__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser;\n    var data = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.serializeForm)('userForm');\n    data.type = type;\n\n    if (user === null) {\n      signUp(data.email).then(() => {\n        document.location.href = \"/get-started/organization/?from=\".concat(type);\n      }).catch(error => {\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Sign up error', error.message, {\n          type: 'error'\n        }); // TODO: Show error class if invalid (.is-invalid)\n      });\n    } else {\n      if (data.email !== user.email) {\n        user.updateEmail(data.email);\n      }\n\n      if (data.name !== user.displayName) {\n        user.updateProfile({\n          displayName: data.name\n        });\n      }\n\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.authRequest)('/api/users', data).then(() => {\n        document.location.href = \"/get-started/organization/?from=\".concat(type);\n      });\n    }\n  },\n\n  saveSupport() {\n    /*\r\n     * Save's a user's support option.\r\n     */\n    var tier = 'Free';\n    var cards = document.getElementsByClassName('support-card');\n\n    for (var i = 0; i < cards.length; i++) {\n      if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.hasClass)(cards[i], 'border-success')) {\n        tier = cards[i].id.replace('tier', '');\n      }\n    }\n\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.authRequest)('/api/users', {\n      support: tier\n    }).then(() => {\n      document.location.href = '/';\n    });\n  },\n\n  showOrganizationForm(type) {\n    /*\r\n     * Show either the join or create organization forms or neither.\r\n     */\n    document.getElementById('organization-choice').classList.add('d-none');\n    document.getElementById('cancel-organization-choice').classList.remove('d-none');\n\n    if (type === 'join') {\n      document.getElementById('join-organization-form').classList.remove('d-none');\n    } else if (type === 'create') {\n      document.getElementById('create-organization-form').classList.remove('d-none');\n    } else {\n      document.getElementById('join-organization-form').classList.add('d-none');\n      document.getElementById('create-organization-form').classList.add('d-none');\n      document.getElementById('organization-choice').classList.remove('d-none');\n      document.getElementById('cancel-organization-choice').classList.add('d-none');\n    }\n  },\n\n  chooseUserPhoto() {\n    /*\r\n     * Choose a file to upload.\r\n     */\n    var fileSelect = document.getElementById('userPhotoUrl');\n    fileSelect.click();\n  },\n\n  choosePhoto() {\n    /*\r\n     * Choose a file to upload.\r\n     */\n    var fileSelect = document.getElementById('selectPhotoUrl');\n    fileSelect.click();\n  }\n\n};\n/*\r\n * Internal Functions\r\n */\n\nfunction signUp(email) {\n  /*\r\n   * Sign up a user.\r\n   */\n  return new Promise((resolve, reject) => {\n    var password = _utils_js__WEBPACK_IMPORTED_MODULE_1__.Password.generate(32);\n    firebase.auth().createUserWithEmailAndPassword(email, password).then(() => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.authRequest)('/api/users', {\n        email,\n        photo_url: \"https://robohash.org/\".concat(email, \"?set=set5\")\n      }).then(data => {\n        resolve(data);\n      }).catch(error => {\n        reject(error);\n      });\n    }).catch(error => {\n      reject(error);\n    });\n  }); // var termsAccepted = document.getElementById('login-terms-accepted').checked;\n  // if (!termsAccepted) {\n  //   showError(\n  //     'Terms not accepted',\n  //     'Please agree with our terms of service and read our privacy policy to create an account.'\n  //   );\n  //   return;\n  // }\n  // var password = document.getElementById('login-password').value;\n}\n\nfunction uploadUserPhoto() {\n  if (this.files.length) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Uploading photo', 'Uploading your profile picture...', {\n      type: 'wait'\n    });\n    (0,_firebase_js__WEBPACK_IMPORTED_MODULE_0__.changePhotoURL)(this.files[0]).then(downloadURL => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.authRequest)('/api/users', {\n        photo_url: downloadURL\n      });\n      document.getElementById('user-photo-url').src = downloadURL;\n      document.getElementById('userPhotoNav').src = downloadURL;\n      document.getElementById('userPhotoMenu').src = downloadURL;\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Uploading photo complete', 'Successfully uploaded your profile picture.', {\n        type: 'success'\n      });\n    }).catch(error => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Photo Change Error', _firebase_js__WEBPACK_IMPORTED_MODULE_0__.storageErrors[error.code], {\n        type: 'error'\n      });\n    });\n  }\n}\n\nfunction uploadOrgPhoto() {\n  if (this.files.length) {\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.showNotification)('Uploading photo', 'Uploading your organization picture...', {\n      type: 'wait'\n    }); // TODO:\n    // changePhotoURL(this.files[0]).then((downloadURL) => {\n    //   authRequest('/api/users', { photo_url: downloadURL });\n    //   document.getElementById('user-photo-url').src = downloadURL;\n    //   document.getElementById('userPhotoNav').src = downloadURL;\n    //   document.getElementById('userPhotoMenu').src = downloadURL;\n    //   showNotification('Uploading photo complete', 'Successfully uploaded your profile picture.', { type: 'success' });\n    // }).catch((error) => {\n    //   showNotification('Photo Change Error', storageErrors[error.code], { type: 'error' });\n    // });\n  }\n}\n/*\r\n * UI Management\r\n */\n\n\nfunction initializeGetStartedProfileUI(data) {\n  // Set the user's photo.\n  try {\n    if (data.photo_url || data.photoURL || data.email) {\n      document.getElementById('user-photo-url').src = data.photo_url || data.photoURL || \"https://robohash.org/\".concat(data.email, \"?set=set5\");\n    }\n  } catch (error) {} // Populate form.\n\n\n  var {\n    elements\n  } = document.querySelector('form');\n\n  for (var [key, value] of Object.entries(data)) {\n    var field = elements.namedItem(key);\n\n    try {\n      field && (field.value = value);\n    } catch (error) {}\n  } // Attach functionality.\n\n\n  var fileElem = document.getElementById('userPhotoUrl');\n  fileElem.addEventListener('change', uploadUserPhoto, false);\n}\n\nfunction initializeGetStartedOrganizationUI(data) {\n  // TODO: Set the organization's photo.\n  // try {\n  //   if (data.photo_url) document.getElementById('user-photo-url').src = data.photo_url;\n  // } catch (error) {}\n  // Populate form.\n  var {\n    elements\n  } = document.querySelector('form');\n\n  for (var [key, value] of Object.entries(data)) {\n    var field = elements.namedItem(key);\n\n    try {\n      field && (field.value = value);\n    } catch (error) {}\n  } // Attach functionality.\n\n\n  var fileElem = document.getElementById('selectPhotoUrl');\n  fileElem.addEventListener('change', uploadOrgPhoto, false);\n} // SCRAP\n// getUserData() {\n//   /*\n//    * Stream the user's data.\n//    */\n//   return new Promise((resolve) => {\n//     const uid = auth.currentUser.uid;\n//     db.collection('users').doc(uid).onSnapshot((doc) => {\n//       const data = doc.data();\n//       console.log(\"User data:\", data);\n//       resolve(data);\n//     });\n//   });\n// },\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/dashboard/dashboard.js?")},"./cannlytics_console/assets/js/firebase.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"auth\": () => (/* binding */ auth),\n/* harmony export */   \"db\": () => (/* binding */ db),\n/* harmony export */   \"firestore\": () => (/* binding */ firestore),\n/* harmony export */   \"storageErrors\": () => (/* binding */ storageErrors),\n/* harmony export */   \"GoogleAuthProvider\": () => (/* binding */ GoogleAuthProvider),\n/* harmony export */   \"changePhotoURL\": () => (/* binding */ changePhotoURL),\n/* harmony export */   \"getUserToken\": () => (/* binding */ getUserToken),\n/* harmony export */   \"signOut\": () => (/* binding */ signOut),\n/* harmony export */   \"getDocument\": () => (/* binding */ getDocument),\n/* harmony export */   \"updateDocument\": () => (/* binding */ updateDocument),\n/* harmony export */   \"getCollection\": () => (/* binding */ getCollection)\n/* harmony export */ });\n/**\r\n * firebase.js | Cannlytics Website\r\n * Created: 12/22/2020\r\n * Updated: 5/9/2021\r\n */\n// Initialize Firebase\nfirebase.initializeApp({\n  apiKey: \"AIzaSyCWEMwQitfiSSAg21KcRb0YpNOhdyD4bak\",\n  authDomain: \"cannlytics.firebaseapp.com\",\n  databaseURL: \"https://cannlytics.firebaseio.com\",\n  projectId: \"cannlytics\",\n  storageBucket: \"cannlytics.appspot.com\",\n  messagingSenderId: \"464045168555\",\n  appId: \"1:464045168555:web:901f17cf975e20ccf624ee\",\n  measurementId: \"G-EGEJHVEYRN\"\n}); // FIXME: As session cookies are to be used, do not persist any state client side.\n// firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE);\n// Core modules\n\nvar auth = firebase.auth();\nvar db = firebase.firestore();\nvar storage = firebase.storage();\nvar {\n  firestore\n} = firebase;\nvar GoogleAuthProvider = firebase.auth.GoogleAuthProvider;\n/*\r\n * Auth interface\r\n */\n\nvar changePhotoURL = file => new Promise((resolve, reject) => {\n  /* \r\n  * Upload an image to Firebase Storage to use for a user's photo URL,\r\n  * listening for state changes, errors, and the completion of the upload.\r\n  */\n  var uid = auth.currentUser.uid;\n  var storageRef = storage.ref();\n  var metadata = {\n    contentType: 'image/jpeg'\n  };\n  var fileName = \"users/\".concat(uid, \"/user_photos/\").concat(file.name);\n  var uploadTask = storageRef.child(fileName).put(file, metadata);\n  uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, snapshot => {\n    var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n\n    switch (snapshot.state) {\n      case firebase.storage.TaskState.PAUSED:\n        break;\n\n      case firebase.storage.TaskState.RUNNING:\n        break;\n    }\n  }, error => {\n    reject(error);\n  }, () => {\n    uploadTask.snapshot.ref.getDownloadURL().then(downloadURL => {\n      auth.currentUser.updateProfile({\n        photoURL: downloadURL\n      });\n      resolve(downloadURL);\n    });\n  });\n});\n\nvar getUserToken = function getUserToken() {\n  var refresh = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return new Promise((resolve, reject) => {\n    /*\r\n     * Get an auth token for a given user.\r\n     */\n    if (!auth.currentUser) {\n      auth.onAuthStateChanged(user => {\n        if (user) {\n          user.getIdToken(refresh).then(idToken => {\n            resolve(idToken);\n          }).catch(error => {\n            reject(error);\n          });\n        }\n      });\n    } else {\n      auth.currentUser.getIdToken(refresh).then(idToken => {\n        resolve(idToken);\n      }).catch(error => {\n        reject(error);\n      });\n    }\n  });\n};\n\nfunction signOut() {\n  /*\r\n   * Sign a user out of Firebase and clear the session.\r\n   */\n  try {\n    firebase.auth().currentUser.getIdToken().then(idToken => {\n      var headers = new Headers({\n        'Content-Type': 'text/plain',\n        'Authorization': \"Bearer \".concat(idToken)\n      });\n      fetch('/api/auth/logout', {\n        headers\n      }).then(() => {\n        firebase.auth().signOut().then(() => {\n          document.location.href = '/account/logout';\n        }).catch(error => {\n          document.location.href = '/account/logout';\n        });\n      });\n    });\n  } catch (error) {\n    document.location.href = '/account/logout';\n  }\n}\n/*\r\n * Firestore interface\r\n */\n\n\nvar getCollection = function getCollection(path) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var orderBy = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var desc = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n  var filters = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  return new Promise(resolve => {\n    /*\r\n     * Get documents from a collection in Firestore.\r\n     */\n    var ref = getReference(path);\n    filters.forEach(filter => {\n      ref = ref.where(filter.key, filter.operation, filter.value);\n    });\n    if (orderBy && desc) ref = ref.orderBy(orderBy, 'desc');else if (orderBy) ref = ref.orderBy(orderBy);\n    if (limit) ref = ref.limit(limit);\n    ref.get().then(snapshot => {\n      var docs = [];\n      snapshot.forEach(doc => {\n        docs.push(doc.data());\n      });\n      resolve(docs);\n    }).catch(error => {\n      console.log('Error getting documents: ', error);\n    });\n  });\n};\n\nvar getDocument = path => new Promise(resolve => {\n  /*\r\n   * Get a document from Firestore.\r\n   */\n  var ref = getReference(path);\n  ref.get().then(doc => {\n    resolve(doc.data());\n  });\n});\n\nvar getReference = path => {\n  /*\r\n   * Create a collection or a document Firestore reference.\r\n   */\n  var ref = db;\n  var parts = path.split('/');\n  parts.forEach((part, index) => {\n    if (index % 2) ref = ref.doc(part);else ref = ref.collection(part);\n  });\n  return ref;\n};\n\nvar updateDocument = (path, data) => new Promise(resolve => {\n  /*\r\n   * Update or create a document in Firestore.\r\n   */\n  var ref = getReference(path);\n  ref.set(data, {\n    merge: true\n  }).then(doc => {\n    resolve(doc.data());\n  });\n});\n/*\r\n * Storage interface\r\n */\n\n\nvar storageErrors = {\n  'storage/unknown': 'An unknown error occurred.',\n  'storage/object-not-found': 'No file exists at the desired reference.',\n  'storage/bucket-not-found': 'Improper storage configuration.',\n  'storage/project-not-found': 'Project is not configured for Cloud Storage.',\n  'storage/quota-exceeded': \"Your storage quota has been exceeded. If you're on the free tier, upgrade to a paid plan. If you're on a paid plan, reach out to Cannlytics support.\",\n  'storage/unauthenticated': 'Unauthenticated, please authenticate and try again.',\n  'storage/unauthorized': \"You are not authorized to perform the desired action, check your privileges to ensure that they are correct.\",\n  'storage/retry-limit-exceeded': \"The operation took too long to complete. Please try uploading again.\",\n  'storage/invalid-checksum': \"There is an error with the file. Please try uploading again.\",\n  'storage/canceled': 'Operation canceled.',\n  'storage/invalid-url': \"Invalid URL name.\",\n  'storage/cannot-slice-blob': \"Your local file may have changed. Please try uploading again after verifying that the file hasn't changed.\",\n  'storage/server-file-wrong-size': \"Your file is too large. Please try uploading a different file.\"\n};\n\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/firebase.js?")},"./cannlytics_console/assets/js/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "analysis": () => (/* reexport safe */ _analysis_analysis_js__WEBPACK_IMPORTED_MODULE_0__.analysis),\n/* harmony export */   "api": () => (/* reexport safe */ _api_api_js__WEBPACK_IMPORTED_MODULE_1__.api),\n/* harmony export */   "app": () => (/* reexport safe */ _app_app_js__WEBPACK_IMPORTED_MODULE_2__.app),\n/* harmony export */   "auth": () => (/* reexport safe */ _auth_auth_js__WEBPACK_IMPORTED_MODULE_3__.auth),\n/* harmony export */   "dashboard": () => (/* reexport safe */ _dashboard_dashboard_js__WEBPACK_IMPORTED_MODULE_4__.dashboard),\n/* harmony export */   "intake": () => (/* reexport safe */ _intake_intake_js__WEBPACK_IMPORTED_MODULE_5__.intake),\n/* harmony export */   "inventory": () => (/* reexport safe */ _inventory_inventory_js__WEBPACK_IMPORTED_MODULE_6__.inventory),\n/* harmony export */   "logistics": () => (/* reexport safe */ _logistics_logistics_js__WEBPACK_IMPORTED_MODULE_7__.logistics),\n/* harmony export */   "settings": () => (/* reexport safe */ _settings_settings_js__WEBPACK_IMPORTED_MODULE_8__.settings),\n/* harmony export */   "theme": () => (/* reexport safe */ _settings_theme_js__WEBPACK_IMPORTED_MODULE_9__.theme),\n/* harmony export */   "ui": () => (/* reexport safe */ _ui_ui_js__WEBPACK_IMPORTED_MODULE_10__.ui)\n/* harmony export */ });\n/* harmony import */ var _analysis_analysis_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./analysis/analysis.js */ "./cannlytics_console/assets/js/analysis/analysis.js");\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api/api.js */ "./cannlytics_console/assets/js/api/api.js");\n/* harmony import */ var _app_app_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app/app.js */ "./cannlytics_console/assets/js/app/app.js");\n/* harmony import */ var _auth_auth_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auth/auth.js */ "./cannlytics_console/assets/js/auth/auth.js");\n/* harmony import */ var _dashboard_dashboard_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dashboard/dashboard.js */ "./cannlytics_console/assets/js/dashboard/dashboard.js");\n/* harmony import */ var _intake_intake_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./intake/intake.js */ "./cannlytics_console/assets/js/intake/intake.js");\n/* harmony import */ var _inventory_inventory_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./inventory/inventory.js */ "./cannlytics_console/assets/js/inventory/inventory.js");\n/* harmony import */ var _logistics_logistics_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./logistics/logistics.js */ "./cannlytics_console/assets/js/logistics/logistics.js");\n/* harmony import */ var _settings_settings_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./settings/settings.js */ "./cannlytics_console/assets/js/settings/settings.js");\n/* harmony import */ var _settings_theme_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./settings/theme.js */ "./cannlytics_console/assets/js/settings/theme.js");\n/* harmony import */ var _ui_ui_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ui/ui.js */ "./cannlytics_console/assets/js/ui/ui.js");\n/**\r\n * Cannlytics Console JavaScript Module\r\n * Author: Keegan Skeate\r\n * Created: 12/3/2020\r\n * Updated: 4/25/2021\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/index.js?')},"./cannlytics_console/assets/js/intake/intake.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"intake\": () => (/* binding */ intake)\n/* harmony export */ });\n/**\n * Cannlytics Console (v1.0.0): intake.js\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\n * Author: Keegan Skeate\n * Created: 12/3/2020\n */\n// import Chart from 'chart.js';\n// TODO: Get transfers\n// TODO: search transfers\n// TODO: Create transfer\n// TODO: Edit transfer\n// TODO: Delete transfer\n// TODO: Get projects\n// TODO: Search projects\n// TODO: Create project\n// TODO: Edit project\n// TODO: Delete project\nvar intake = {\n  initialize() {\n    // console.log(this.getData())\n    console.log('Initializing intake..');\n    this.drawProgressGraph(); // var data = cannlyticsConsole.getData()\n    // cannlyticsConsole.renderGraph('myChart', data)\n  },\n\n  drawProgressGraph() {\n    var data = {\n      datasets: [{\n        data: [10, 20],\n        backgroundColor: ['rgba(255, 206, 86, 0.2)', 'rgba(54, 162, 235, 0.2)'],\n        borderColor: ['rgba(255, 206, 86, 1)', 'rgba(54, 162, 235, 1)'],\n        borderWidth: 1\n      }],\n      labels: ['In-Transit', 'Received']\n    }; // TODO: Get from Firestore\n\n    var ctx = document.getElementById('graph-progress');\n    var myPieChart = new Chart(ctx, {\n      type: 'pie',\n      data: data,\n      options: {\n        cutoutPercentage: 50\n      }\n    });\n  },\n\n  // TODO: Get data\n  getData() {\n    return [15339, 21345, 18483, 24003, 23489, 24092, 12034];\n  },\n\n  // TODO: Render graphs\n  renderGraph(id, data) {\n    var ctx = document.getElementById(id); // eslint-disable-next-line no-unused-vars\n\n    var myChart = new Chart(ctx, {\n      type: 'line',\n      data: {\n        labels: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n        datasets: [{\n          data: data,\n          lineTension: 0,\n          backgroundColor: 'transparent',\n          borderColor: '#007bff',\n          borderWidth: 4,\n          pointBackgroundColor: '#007bff'\n        }]\n      },\n      options: {\n        scales: {\n          yAxes: [{\n            ticks: {\n              beginAtZero: false\n            }\n          }]\n        },\n        legend: {\n          display: false\n        }\n      }\n    });\n  }\n\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/intake/intake.js?")},"./cannlytics_console/assets/js/inventory/areas.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "areas": () => (/* binding */ areas)\n/* harmony export */ });\n/* harmony import */ var _api_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/api.js */ "./cannlytics_console/assets/js/api/api.js");\n/* harmony import */ var _firebase_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../firebase.js */ "./cannlytics_console/assets/js/firebase.js");\n/* harmony import */ var _settings_theme_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../settings/theme.js */ "./cannlytics_console/assets/js/settings/theme.js");\n/**\r\n * Areas | Cannlytics Console\r\n * Author: Keegan Skeate\r\n * Created: 12/3/2020\r\n */\n\n\n\nvar areas = {\n  initializeAreas() {\n    /*\r\n     * Initialize areas table.\r\n     */\n    _firebase_js__WEBPACK_IMPORTED_MODULE_1__.auth.onAuthStateChanged(user => {\n      this.getAreas();\n    });\n  },\n\n  getAreas() {\n    /*\r\n     * Get areas from Metrc through the API.\r\n     */\n    // TODO: Specify the columns.\n    var columnDefs = [{\n      field: "make",\n      sortable: true,\n      filter: true,\n      editable: true,\n      checkboxSelection: true\n    }, // , checkboxSelection: true\n    {\n      field: "model",\n      sortable: true,\n      filter: true,\n      editable: true\n    }, {\n      field: "price",\n      sortable: true,\n      filter: true,\n      editable: true\n    }]; // Specify the table options.\n\n    var gridOptions = {\n      columnDefs: columnDefs,\n      pagination: true,\n      rowSelection: \'multiple\',\n      suppressRowClickSelection: false,\n      // singleClickEdit: true,\n      // onRowClicked: event => console.log(\'A row was clicked\'),\n      onGridReady: event => _settings_theme_js__WEBPACK_IMPORTED_MODULE_2__.theme.toggleTheme(_settings_theme_js__WEBPACK_IMPORTED_MODULE_2__.theme.getTheme())\n    }; // Get the data and render the table.\n\n    _api_api_js__WEBPACK_IMPORTED_MODULE_0__.api.getAreas().then(data => {\n      console.log(\'Areas:\', data);\n      var eGridDiv = document.querySelector(\'#areas-table\');\n      new agGrid.Grid(eGridDiv, gridOptions);\n      gridOptions.api.setRowData(data);\n    }).catch(error => {\n      console.log(\'Error:\', error);\n    }); // TODO: Attach export functionality\n    //function exportTableData() {\n    //  gridOptions.api.exportDataAsCsv();\n    //}\n  }\n\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/inventory/areas.js?')},"./cannlytics_console/assets/js/inventory/inventory.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "inventory": () => (/* binding */ inventory)\n/* harmony export */ });\n/* harmony import */ var _areas_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./areas.js */ "./cannlytics_console/assets/js/inventory/areas.js");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * Inventory | Cannlytics Console\r\n * Author: Keegan Skeate\r\n * Created: 4/24/2021\r\n */\n\nvar inventory = _objectSpread({}, _areas_js__WEBPACK_IMPORTED_MODULE_0__.areas);\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/inventory/inventory.js?')},"./cannlytics_console/assets/js/logistics/logistics.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"logistics\": () => (/* binding */ logistics)\n/* harmony export */ });\n/**\n * Cannlytics Console (v1.0.0): logistics.js\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\n * Author: Keegan Skeate\n * Created: 12/9/2020\n * Resources:\n *    https://github.com/fullcalendar/fullcalendar-example-projects/blob/master/webpack/src/main.js\n *    https://fullcalendar.io/docs/handlers\n */\n// import { Calendar } from '@fullcalendar/core';\n// import interactionPlugin from '@fullcalendar/interaction';\n// import dayGridPlugin from '@fullcalendar/daygrid';\n// import timeGridPlugin from '@fullcalendar/timegrid';\n// import listPlugin from '@fullcalendar/list';\nvar logistics = {\n  initialize() {\n    console.log('Initializing logistics..'); // this.drawCalendar();\n\n    var script = document.createElement('script');\n    script.src = 'https://cdn.jsdelivr.net/npm/fullcalendar@5.4.0/main.min.js';\n    script.defer = true; // window.initMap = this.drawCalendar;\n\n    document.head.appendChild(script);\n    document.addEventListener('DOMContentLoaded', function () {\n      var calendarEl = document.getElementById('calendar');\n      var calendar = new FullCalendar.Calendar(calendarEl, {\n        initialView: 'dayGridMonth',\n        initialDate: '2020-12-07',\n        headerToolbar: {\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay'\n        },\n        events: [{\n          title: 'All Day Event',\n          start: '2020-12-01'\n        }, {\n          title: 'Long Event',\n          start: '2020-12-07',\n          end: '2020-12-10'\n        }, {\n          groupId: '999',\n          title: 'Repeating Event',\n          start: '2020-12-09T16:00:00'\n        }, {\n          groupId: '999',\n          title: 'Repeating Event',\n          start: '2020-12-16T16:00:00'\n        }, {\n          title: 'Conference',\n          start: '2020-12-11',\n          end: '2020-12-13'\n        }, {\n          title: 'Meeting',\n          start: '2020-12-12T10:30:00',\n          end: '2020-12-12T12:30:00'\n        }, {\n          title: 'Lunch',\n          start: '2020-12-12T12:00:00'\n        }, {\n          title: 'Meeting',\n          start: '2020-12-12T14:30:00'\n        }, {\n          title: 'Birthday Party',\n          start: '2020-12-13T07:00:00'\n        }, {\n          title: 'Click for Google',\n          url: 'http://google.com/',\n          start: '2020-12-28'\n        }]\n      });\n      calendar.render();\n    });\n  },\n\n  initializeLogs() {\n    console.log('Initialize logs...');\n  },\n\n  initializeAnalytics() {\n    console.log('Initialize analytics...');\n  },\n\n  initializeMap() {\n    var script = document.createElement('script');\n    var API_KEY = 'AIzaSyB-ZjpD7MgK9mMwxQgsyr5wh-4xciJzIHw'; // TODO: Get from Firestore.\n\n    script.src = \"https://maps.googleapis.com/maps/api/js?key=\".concat(API_KEY, \"&callback=initMap\");\n    script.defer = true;\n    window.initMap = this.drawMap;\n    document.head.appendChild(script);\n  },\n\n  drawCalendar() {\n    var calendarEl = document.getElementById('calendar');\n    if (!calendarEl) return;\n    var calendar = new Calendar(calendarEl, {\n      plugins: [interactionPlugin, dayGridPlugin, timeGridPlugin, listPlugin],\n      headerToolbar: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'\n      },\n      initialDate: '2020-12-10',\n      // TODO: Set current day.\n      navLinks: true,\n      // can click day/week names to navigate views\n      editable: true,\n      dayMaxEvents: true,\n      // allow \"more\" link when too many events\n      // TODO: Get events from Firestore.\n      events: [{\n        title: 'Meeting',\n        start: '2020-12-12T10:30:00',\n        end: '2020-12-12T12:30:00'\n      }],\n      dateClick: function dateClick() {\n        console.log('a day has been clicked!');\n      }\n    });\n    calendar.render();\n  },\n\n  drawMap() {\n    var locations = [[\"USA\", 39.8283, -98.5795, 1]]; // TODO: Get location of transfers from Firestore\n\n    var map = new google.maps.Map(document.getElementById('map'), {\n      zoom: 4,\n      center: new google.maps.LatLng(39.8283, -98.5795),\n      // TODO: Get organization's latitude and longitude\n      mapTypeId: google.maps.MapTypeId.ROADMAP\n    });\n    var infoWindow = new google.maps.InfoWindow();\n    var marker, i;\n\n    for (i = 0; i < locations.length; i++) {\n      marker = new google.maps.Marker({\n        position: new google.maps.LatLng(locations[i][1], locations[i][2]),\n        map: map\n      });\n      google.maps.event.addListener(marker, 'click', function (marker, i) {\n        return function () {\n          infoWindow.setContent(locations[i][0]);\n          infoWindow.open(map, marker);\n        };\n      }(marker, i));\n    }\n  }\n\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/logistics/logistics.js?")},"./cannlytics_console/assets/js/settings/account.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"accountSettings\": () => (/* binding */ accountSettings)\n/* harmony export */ });\n/**\r\n * account.js | Cannlytics Console (v1.0.0)\r\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\r\n * Author: Keegan Skeate\r\n * Created: 1/2/2021\r\n */\nvar accountSettings = {\n  saveAccount(data) {\n    /* \r\n    * Saves a user's account fields.\r\n    */\n    console.log('Todo: Save user fields to firestore!');\n  },\n\n  exportAccount(data) {\n    /* \r\n    * Exports a user's data.\r\n    */\n    console.log('Export all of a users data to Excel.');\n  },\n\n  createPin(data) {\n    /* \r\n    * Create a pin for a user.\r\n    */\n    console.log('Todo: Create a pin!');\n  },\n\n  uploadSignature(data) {\n    /* \r\n    * Upload a signature for a user.\r\n    */\n    var collection = db.collection('organizations');\n    return collection.add(data);\n  },\n\n  deleteSignature(data) {\n    /* \r\n    * Remove a signature from a user.\r\n    */\n    var collection = db.collection('organizations');\n    return collection.add(data);\n  }\n\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/settings/account.js?")},"./cannlytics_console/assets/js/settings/errors.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"errorSettings\": () => (/* binding */ errorSettings)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"./cannlytics_console/assets/js/utils.js\");\n/**\r\n * Errors JavaScript | Cannlytics Console\r\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\r\n * Author: Keegan Skeate\r\n * Created: 4/28/2021\r\n */\n\nvar errorSettings = {\n  reportError(data) {\n    /*\r\n     * Reports an error to the back-end.\r\n     */\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.authRequest)('/api/errors', data).then(() => {\n      var message = 'Thank you for reporting this error. We will try to address it as soon as possible.';\n      showNotification('Error report sent', message, {\n        type: 'success'\n      });\n    }).catch(error => {\n      var message = \"We're sorry, your error report failed to send. We will still try to find the root cause if possible.\";\n      showNotification('Failed to send error report', message, {\n        type: 'error'\n      });\n    });\n  }\n\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/settings/errors.js?")},"./cannlytics_console/assets/js/settings/settings.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"settings\": () => (/* binding */ settings)\n/* harmony export */ });\n/* harmony import */ var _firebase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../firebase.js */ \"./cannlytics_console/assets/js/firebase.js\");\n/* harmony import */ var _account_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./account.js */ \"./cannlytics_console/assets/js/settings/account.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./errors.js */ \"./cannlytics_console/assets/js/settings/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ \"./cannlytics_console/assets/js/utils.js\");\n/* harmony import */ var _ui_ui_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/ui.js */ \"./cannlytics_console/assets/js/ui/ui.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\r\n * Settings JavaScript | Cannlytics Console\r\n * Author: Keegan Skeate\r\n * Created: 12/3/2020\r\n * Updated: 5/11/2021\r\n */\n\n\n\n\n\nvar apiSettings = {\n  createAPIKey() {\n    /* \r\n    * Create an API key.\r\n    */\n    var data = (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.serializeForm)('new-api-key-form');\n    console.log('Creating API key...', data);\n    _ui_ui_js__WEBPACK_IMPORTED_MODULE_4__.ui.showLoadingButton('create-api-key-button');\n    (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.apiRequest)('/api/create-key', data).then(response => {\n      // TODO: Add new key to the table!\n      console.log(response);\n    }).finally(() => {\n      _ui_ui_js__WEBPACK_IMPORTED_MODULE_4__.ui.hideLoadingButton('create-api-key-button');\n    });\n  },\n\n  deleteAPIKey(data) {\n    /* \r\n    * Delete an API key.\r\n    */\n    console.log('Deleting API key...', data); // TODO: Post name of key that needs to be deleted.\n  },\n\n  getAPIKeys(uid) {\n    /* \r\n    * Get all of a user's API key information.\r\n    */\n    console.log('Getting all API keys...', uid); // FIXME: Get from /api/get_api_key_hmacs instead\n\n    return new Promise((resolve, reject) => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.apiRequest)('/api/get-keys').then(response => {\n        resolve(response['data']);\n      }); // db.collection('admin').doc('api').collection('api_key_hmacs')\n      // .get()\n      // .then((querySnapshot) => {\n      //   const data = [];\n      //   querySnapshot.forEach((doc) => {\n      //     data.push(doc.data());\n      //   });\n      //   resolve(data);\n      // })\n      // .catch((error) => {\n      //   reject(error);\n      // });\n      // .onSnapshot((querySnapshot) => {\n      //   var data = [];\n      //   querySnapshot.forEach((doc) => {\n      //     data.push(doc.data().name);\n      //   });\n      //   resolve(data);\n      // });\n    }); // const ref = db.collection('admin').document('api').collection('api_key_hmacs')\n    //   .where('uid', '==', uid);\n    // ref.onSnapshot(snapshot => {\n    //   snapshot.docChanges.forEach(change => {\n    //     this.renderAPIKey(change);\n    //   });\n    // });\n  },\n\n  renderAPIKey(change) {\n    /* \r\n    * Get all of a user's API key information.\r\n    */\n    if (change.type === 'added') {\n      console.log('Add data to table:', change.doc);\n    } else if (change.type === 'removed') {\n      console.log('Remove row from table:', change.doc.id);\n    }\n  },\n\n  selectAPIKey(data) {\n    /*\r\n     * Select an API key from the table.\r\n     */\n  }\n\n};\nvar orgSettings = {\n  newOrganization() {\n    // const id = uuidv4();\n    // TODO:\n    console.log('Create new org');\n  },\n\n  addOrganization(data) {\n    /* \r\n    * Add an organizations.\r\n    */\n    var collection = _firebase_js__WEBPACK_IMPORTED_MODULE_0__.db.collection('organizations');\n    return collection.add(data);\n  },\n\n  getOrganizations() {\n    /* \r\n    * Get all of a user's organizations.\r\n    */\n    _firebase_js__WEBPACK_IMPORTED_MODULE_0__.auth.onAuthStateChanged(user => {\n      if (user) {\n        // console.log(user.uid);\n        // TODO: Get all of a users/{id} org_id's.\n        // TODO: Get all organizations/{id} documents for org_id's.\n        console.log('Get all organizations for user id:', user.uid); // const query = db.collection('organizations').limit(50);\n        // query.onSnapshot(snapshot => {\n        //   if (!snapshot.size) return render();\n        //   snapshot.docChanges.forEach(change => {\n        //     if (change.type === 'added') {\n        //       render(change.doc);\n        //     }\n        //     else if (change.type === 'removed') {\n        //       document.getElementById(change.doc.id).remove();\n        //     }\n        //   });\n        // });\n      }\n    }); //  idbStore.get('user').then((data) => {\n    //   console.log('IDB User:', data);\n    //   console.log('Getting organizations!');\n    //  });\n  },\n\n  archiveOrganizations() {\n    /* \r\n    * Archive one of a user's organizations.\r\n    */\n    // TODO: Add to archived organizations.\n    var collection = firebase.firestore().collection('ships');\n    return collection.doc(id).delete().catch(function (error) {\n      console.error('Error removing document: ', error);\n    });\n  },\n\n  updateOrganization() {\n    /* \r\n    * Update a user's organizations.\r\n    */\n    // TODO:\n  }\n\n};\nvar coreSettings = {\n  logAction() {\n    /* \r\n    * Record time and user of any activity.\r\n    */\n    // TODO:\n  },\n\n  sendFeedback() {\n    /*\r\n     * Send feedback through Firestore-triggered Google Cloud Function.\r\n     */\n    var user = _firebase_js__WEBPACK_IMPORTED_MODULE_0__.auth.currentUser || {};\n    var message = document.getElementById('feedback-message').value;\n    var timestamp = Date.now().toString(); // Optional: Specify time zone.\n\n    var code = Math.random().toString(36).slice(-3);\n    var data = {\n      name: user.displayName || 'Anonymous user',\n      email: user.email || 'No user',\n      organization: user.organization || 'No organization',\n      body: message,\n      from: 'contact@cannlytics.com',\n      reply: 'contact@cannlytics.com',\n      recipients: ['contact@cannlytics.com'],\n      subject: 'New Cannlytics Console feedback!',\n      promo: code\n    };\n    _firebase_js__WEBPACK_IMPORTED_MODULE_0__.db.collection('users').doc(user.uid).collection('feedback').doc(timestamp).set(data).then(() => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.showNotification)('Feedback sent', 'Thank you for your feedback', {\n        type: 'success'\n      });\n    }).catch(error => {\n      (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.showNotification)('Error sending feedback', error.message, {\n        type: 'error'\n      });\n    });\n  }\n\n};\nvar settings = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, apiSettings), coreSettings), _account_js__WEBPACK_IMPORTED_MODULE_1__.accountSettings), _errors_js__WEBPACK_IMPORTED_MODULE_2__.errorSettings);\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/settings/settings.js?")},"./cannlytics_console/assets/js/settings/theme.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"theme\": () => (/* binding */ theme)\n/* harmony export */ });\n/**\r\n * Theme JavaScript | Cannlytics Console\r\n * Author: Keegan Skeate\r\n * Created: 12/6/2020\r\n * Updated: 4/24/2021\r\n */\nvar theme = {\n  changeTheme() {\n    /*\r\n     * Change the UI theme.\r\n     */\n    var theme = localStorage.getItem('theme');\n\n    if (!theme) {\n      var hours = new Date().getHours();\n      var dayTime = hours > 6 && hours < 20;\n      theme = dayTime ? 'light' : 'dark';\n    }\n\n    var newTheme = theme === 'light' ? 'dark' : 'light';\n    this.toggleTheme(newTheme);\n    localStorage.setItem('theme', newTheme);\n  },\n\n  getTheme() {\n    /*\r\n     * Get the current theme.\r\n     */\n    return document.body.classList.contains('dark') ? 'dark' : 'light';\n  },\n\n  setInitialTheme() {\n    /*\r\n     * Set th initial UI theme.\r\n     */\n    if (typeof Storage !== 'undefined') {\n      var theme = localStorage.getItem('theme');\n\n      if (!theme) {\n        var hours = new Date().getHours();\n        var dayTime = hours > 6 && hours < 20;\n        if (!dayTime) this.toggleTheme('dark');\n        return;\n      }\n\n      this.toggleTheme(theme);\n      localStorage.setItem('theme', theme);\n    }\n  },\n\n  setTableTheme() {\n    /*\r\n     * Set the appropriate theme for tables based on the current theme.\r\n     */\n    console.log('Setting theme on tables...');\n    var nuisanceTableClass = 'ag-theme-alpine-dark';\n    var finalTableClass = 'ag-theme-alpine';\n\n    if (hasClass(document.body, 'dark')) {\n      nuisanceTableClass = 'ag-theme-alpine';\n      finalTableClass = 'ag-theme-alpine-dark';\n    } // Toggle Ag-Grid theme.\n\n\n    var tables = document.getElementsByClassName(nuisanceTableClass);\n    [...tables].forEach(x => x.classList.add(finalTableClass));\n    [...tables].forEach(x => x.classList.remove(nuisanceTableClass));\n  },\n\n  toggleTheme(theme) {\n    /*\r\n     * Toggle the UI theme, toggling AG-Grid table class.\r\n     */\n    var currentTableClass = 'ag-theme-alpine';\n    var newTableClass = 'ag-theme-alpine-dark';\n\n    if (theme === 'light') {\n      document.body.className = 'base';\n      currentTableClass = 'ag-theme-alpine-dark';\n      newTableClass = 'ag-theme-alpine';\n    } else {\n      document.body.classList.add('dark');\n    } // Toggle Ag-Grid theme.\n\n\n    var tables = document.getElementsByClassName(currentTableClass);\n    [...tables].forEach(x => x.classList.add(newTableClass));\n    [...tables].forEach(x => x.classList.remove(currentTableClass));\n  }\n\n};\n\nfunction hasClass(element, className) {\n  return (' ' + element.className + ' ').indexOf(' ' + className + ' ') > -1;\n}\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/settings/theme.js?")},"./cannlytics_console/assets/js/ui/ui.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ui\": () => (/* binding */ ui)\n/* harmony export */ });\n/**\r\n * User Interface JavaScript | Cannlytics Console\r\n * Licensed under GPLv3 (https://github.com/cannlytics/cannlytics_console/blob/main/LICENSE)\r\n * Author: Keegan Skeate <contact@cannlytics.com>\r\n * Created: 5/2/2021\r\n */\nvar ui = {\n  hideSidebar() {\n    /*\r\n     * Hides the console sidebar.\r\n     */\n    var sidebar = document.getElementById('sidebar-menu');\n    var sidebarToggle = document.getElementById('sidebar-console-toggle');\n    sidebar.classList.add('d-none');\n    sidebar.classList.remove('d-md-block');\n    sidebarToggle.classList.remove('d-md-none');\n  },\n\n  showSidebar() {\n    /*\r\n     * Show the console sidebar.\r\n     */\n    var sidebar = document.getElementById('sidebar-menu');\n    var sidebarToggle = document.getElementById('sidebar-console-toggle');\n    sidebar.classList.remove('d-none');\n    sidebar.classList.add('d-md-block');\n    sidebarToggle.classList.add('d-md-none');\n  },\n\n  addListItem(type) {\n    /*\r\n     * Adds a list item of input fields to the UI by\r\n     * cloning the primary list item and clearing its fields.\r\n     * The delete button is shown and wired-up.\r\n     * The tooltip is removed.\r\n     */\n    var ul = document.getElementById(\"\".concat(type, \"-list\"));\n    var li = document.getElementById(\"primary-\".concat(type)).cloneNode(true);\n    var id = \"\".concat(type, \"-\").concat(ul.children.length + 1);\n    li.setAttribute('id', id);\n    ul.appendChild(li);\n    $(\"#\".concat(id, \" input\")).val('');\n    $(\"#\".concat(id, \" .btn-tooltip-help\")).remove();\n    var deleteButton = $(\"#\".concat(id, \" .btn-link\"));\n    deleteButton.removeClass('d-none');\n    deleteButton.attr('onClick', \"cannlytics.ui.removeListItem(event, '\".concat(type, \"-list', '\").concat(id, \"');\"));\n  },\n\n  removeListItem(event, listId, elementId) {\n    /*\r\n     * Remove an element from a list.\r\n     */\n    event.preventDefault();\n    var ul = document.getElementById(listId);\n    var item = document.getElementById(elementId);\n    ul.removeChild(item);\n  },\n\n  toggleElementClass(id, className) {\n    /*\r\n     * Show or hide a given element.\r\n     */\n    var element = document.getElementById(id);\n    element.classList.toggle(className);\n  },\n\n  showLoadingButton(buttonId) {\n    /*\r\n     * Show a hidden loading button given the ID of its button counterpart.\r\n     */\n    document.getElementById(buttonId).classList.add('d-none');\n    document.getElementById(\"\".concat(buttonId, \"-loading\")).classList.remove('d-none');\n  },\n\n  hideLoadingButton() {\n    /*\r\n     * Hide a by-default hidden loading button given the ID of its button counterpart.\r\n     */\n    document.getElementById(buttonId).classList.add('d-none');\n    document.getElementById(\"\".concat(buttonId, \"-loading\")).classList.remove('d-none');\n  }\n\n};\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/ui/ui.js?")},"./cannlytics_console/assets/js/utils.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"authRequest\": () => (/* binding */ authRequest),\n/* harmony export */   \"apiRequest\": () => (/* binding */ apiRequest),\n/* harmony export */   \"getCookie\": () => (/* binding */ getCookie),\n/* harmony export */   \"Password\": () => (/* binding */ Password),\n/* harmony export */   \"serializeForm\": () => (/* binding */ serializeForm),\n/* harmony export */   \"hasClass\": () => (/* binding */ hasClass),\n/* harmony export */   \"showNotification\": () => (/* binding */ showNotification)\n/* harmony export */ });\n/* harmony import */ var _firebase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase.js */ \"./cannlytics_console/assets/js/firebase.js\");\n/*\r\n * Utility JavaScript | Cannlytics Console\r\n * Author: Keegan Skeate <contact@cannlytics.com>\r\n * Created: 2/21/2021\r\n * Updated: 5/9/2021\r\n */\n\n/*---------------------------------------------------------------------\r\n Auth Helpers\r\n --------------------------------------------------------------------*/\n\nvar authRequest = (endpoint, data, options) => new Promise((resolve, reject) => {\n  /*\r\n   * Make an authorized GET or POST request by\r\n   * getting the user's ID token and exchanging it for a session cookie.\r\n   */\n  (0,_firebase_js__WEBPACK_IMPORTED_MODULE_0__.getUserToken)().then(idToken => {\n    apiRequest(endpoint, data, options, idToken).then(data => {\n      resolve(data);\n    });\n  }).catch(error => {\n    reject(error);\n  });\n});\nvar apiRequest = function apiRequest(endpoint, data, options) {\n  var idToken = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return new Promise((resolve, reject) => {\n    /*\r\n     * Make a request to the Cannlytics API, with an ID token for authentication\r\n     * or without ID token when the user already has an authenticated session.\r\n     * CSRF protection is taken into account.\r\n     */\n    var csrftoken = getCookie('csrftoken');\n    var headerAuth = new Headers({\n      'Content-Type': 'application/json',\n      'Authorization': \"Bearer \".concat(idToken),\n      'X-CSRFToken': csrftoken\n    });\n    var headers = {\n      headers: headerAuth,\n      mode: 'same-origin',\n      method: 'GET'\n    };\n\n    if (data) {\n      headers.method = 'POST';\n      headers.body = JSON.stringify(data);\n    }\n\n    if (options) {\n      if (options.delete) {\n        headers.method = 'DELETE';\n      }\n\n      if (options.params) {\n        endpoint = new URL(endpoint);\n        endpoint.search = new URLSearchParams(options.params).toString();\n      }\n    }\n\n    fetch(endpoint, headers).then(response => response.json()).then(data => {\n      resolve(data);\n    }).catch(error => {\n      reject(error);\n    });\n  });\n};\nfunction getCookie(name) {\n  /*\r\n   * Get a cookie by name.\r\n   */\n  var cookieValue = null;\n\n  if (document.cookie && document.cookie !== '') {\n    var cookies = document.cookie.split(';');\n\n    for (var i = 0; i < cookies.length; i++) {\n      var cookie = cookies[i].trim();\n\n      if (cookie.substring(0, name.length + 1) === name + '=') {\n        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n        break;\n      }\n    }\n  }\n\n  return cookieValue;\n}\nvar Password = {\n  /*\r\n   * Class use to generate random passwords.\r\n   * Usage: Password.generate(32)\r\n   */\n  _pattern: /[a-zA-Z0-9_\\-\\+\\.]/,\n  _getRandomByte: function _getRandomByte() {\n    // http://caniuse.com/#feat=getrandomvalues\n    if (window.crypto && window.crypto.getRandomValues) {\n      var result = new Uint8Array(1);\n      window.crypto.getRandomValues(result);\n      return result[0];\n    } else if (window.msCrypto && window.msCrypto.getRandomValues) {\n      var result = new Uint8Array(1);\n      window.msCrypto.getRandomValues(result);\n      return result[0];\n    } else {\n      return Math.floor(Math.random() * 256);\n    }\n  },\n  generate: function generate(length) {\n    return Array.apply(null, {\n      'length': length\n    }).map(function () {\n      var result;\n\n      while (true) {\n        result = String.fromCharCode(this._getRandomByte());\n\n        if (this._pattern.test(result)) {\n          return result;\n        }\n      }\n    }, this).join('');\n  }\n};\n/*---------------------------------------------------------------------\r\n Form Helpers\r\n --------------------------------------------------------------------*/\n\nfunction serializeForm(elementId) {\n  var keepAll = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  /*\r\n   * Get a data object from a form, by default excluding empty fields.\r\n   */\n  var elements = document.getElementById(elementId).elements;\n  var data = {};\n\n  for (var i = 0; i < elements.length; i++) {\n    var item = elements.item(i);\n    if (item.name || keepAll) data[item.name] = item.value;\n  }\n\n  return data;\n}\n/*---------------------------------------------------------------------\r\n UI Helpers\r\n --------------------------------------------------------------------*/\n\nfunction hasClass(element, className) {\n  /*\r\n   * Check if an element has a class.\r\n   */\n  return (' ' + element.className + ' ').indexOf(' ' + className + ' ') > -1;\n}\nfunction showNotification(title, message, options) {\n  /*\r\n   * Show an error notification.\r\n   */\n  var toastEl = document.getElementById('notification-toast');\n  document.getElementById('notification-title').textContent = title;\n  document.getElementById('notification-message').textContent = message;\n  toastEl.classList.remove('d-none');\n\n  if (options.type) {\n    var types = ['error', 'success', 'wait'];\n    types.forEach(type => {\n      if (type === options.type) {\n        document.getElementById(\"notification-\".concat(type, \"-icon\")).classList.remove('d-none');\n      } else {\n        document.getElementById(\"notification-\".concat(type, \"-icon\")).classList.add('d-none');\n      }\n    });\n  }\n\n  var toast = new bootstrap.Toast(toastEl, {\n    delay: options.delay || 4000\n  });\n  toast.show();\n}\n\n//# sourceURL=webpack://cannlytics/./cannlytics_console/assets/js/utils.js?")}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./cannlytics_console/assets/js/index.js");cannlytics=__webpack_exports__})();